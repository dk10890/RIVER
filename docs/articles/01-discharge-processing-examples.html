<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="riversCentralAsia">
<title>Discharge processing examples • riversCentralAsia</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Discharge processing examples">
<meta property="og:description" content="riversCentralAsia">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">riversCentralAsia</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/00-introduction.html">Introduction to the package</a>
    <a class="dropdown-item" href="../articles/01-discharge-processing-examples.html">Discharge processing examples</a>
    <a class="dropdown-item" href="../articles/02-preparation-of-climate-forcing.html">Preparation of climate forcing</a>
    <a class="dropdown-item" href="../articles/03-RSMinerveIO.html">I/O for RS Minerve</a>
    <a class="dropdown-item" href="../articles/04-glacier-functions.html">Glacier functions</a>
    <a class="dropdown-item" href="../articles/05-snow-calibration.html">Manual calibration of snow water equivalent</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/hydrosolutions/riversCentralAsia/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="01-discharge-processing-examples_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="01-discharge-processing-examples_files/plotly-binding-4.10.0/plotly.js"></script><script src="01-discharge-processing-examples_files/typedarray-0.1/typedarray.min.js"></script><link href="01-discharge-processing-examples_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="01-discharge-processing-examples_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="01-discharge-processing-examples_files/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="01-discharge-processing-examples_files/plotly-main-2.5.1/plotly-latest.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Discharge processing examples</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hydrosolutions/riversCentralAsia/blob/HEAD/vignettes/01-discharge-processing-examples.Rmd" class="external-link"><code>vignettes/01-discharge-processing-examples.Rmd</code></a></small>
      <div class="d-none name"><code>01-discharge-processing-examples.Rmd</code></div>
    </div>

    
    
<p>The pre-processing functions support the data loading and preparation
of climate data input for hydrological modeling with RS Minerve. The
following code snippets demonstrate how to load tabular discharge data
and use some of the functions of riversCentralAsia to perform some basic
discharge analysis.</p>
<p>Here we only provide a quick overview. Please refer to the
open-source book <a href="https://hydrosolutions.github.io/caham_book/" target="_blank" class="external-link">Modeling of Hydrological Systems in Semi-Arid Central
Asia</a> for more details on how to use the riversCentralAsia package in
hydrological modelling.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Attaching packages</span> ─────────────────────────────────────── tidyverse 1.3.2 ──</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2</span> 3.3.6     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr  </span> 0.3.4</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble </span> 3.1.8     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr  </span> 1.0.9</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr  </span> 1.2.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr</span> 1.4.0</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr  </span> 2.1.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats</span> 0.5.1</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'lubridate'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     date, intersect, setdiff, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/timetk" class="external-link">timetk</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hydrosolutions.github.io/riversCentralAsia/index.html" class="external-link">riversCentralAsia</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">discharge</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadTabularData.html">loadTabularData</a></span><span class="op">(</span></span>
<span>  fPath <span class="op">=</span> <span class="st">"../../atbashy_glacier_demo_data/DISCHARGE/"</span>, </span>
<span>  fName <span class="op">=</span> <span class="st">"16076_Q.csv"</span>, </span>
<span>  code <span class="op">=</span> <span class="fl">16076</span>, </span>
<span>  stationName <span class="op">=</span> <span class="st">"Unknown"</span>, </span>
<span>  rName <span class="op">=</span> <span class="st">"Atbashy"</span>, </span>
<span>  rBasin <span class="op">=</span> <span class="st">"Naryn"</span>, </span>
<span>  dataType <span class="op">=</span> <span class="st">"Q"</span>, </span>
<span>  unit <span class="op">=</span> <span class="st">"m3/s"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># The data is missing the last 3 months of 1995. We drop them here. </span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if `.name_repair` is omitted as of tibble 2.0.0.</span></span>
<span><span class="co">#&gt; Using compatibility `.name_repair`.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</span></span></span>
<span></span>
<span><span class="va">discharge</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 308 × 10</span></span></span>
<span><span class="co">#&gt;    date        data  norm units type  code  station river   basin resolution</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 1970-01-31  6.43  7.12 m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 1970-02-28  6.15  6.71 m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 1970-03-31  6.72  6.89 m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 1970-04-30 14.2  13.0  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1970-05-31 36    27.8  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 1970-06-30 45.2  37.4  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 1970-07-31 37.9  33.1  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1970-08-31 37.5  22.7  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1970-09-30 20    15.4  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 1970-10-31 11    11.4  m3/s  Q     16076 Unknown Atbashy Naryn mon       </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 298 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span></span></code></pre></div>
<p>The package <code>timetk</code> is a useful tool for time series
analysis. The following two figures show examples of quick diagnostics
plots that can be drawn with that package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">discharge</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://business-science.github.io/timetk/reference/plot_time_series.html" class="external-link">plot_time_series</a></span><span class="op">(</span><span class="va">date</span>,</span>
<span>    <span class="va">data</span>,</span>
<span>    .smooth        <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    .interactive   <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    .title         <span class="op">=</span> <span class="st">""</span>,    </span>
<span>    .x_lab         <span class="op">=</span> <span class="st">'Year'</span>,</span>
<span>    .y_lab         <span class="op">=</span> <span class="st">'Mean monthly Q [m3/s]'</span>,</span>
<span>    .plotly_slider <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<div id="htmlwidget-64d86078529ed974e099" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-64d86078529ed974e099">{"x":{"data":[{"x":["1970-01-31","1970-02-28","1970-03-31","1970-04-30","1970-05-31","1970-06-30","1970-07-31","1970-08-31","1970-09-30","1970-10-31","1970-11-30","1970-12-31","1971-01-31","1971-02-28","1971-03-31","1971-04-30","1971-05-31","1971-06-30","1971-07-31","1971-08-31","1971-09-30","1971-10-31","1971-11-30","1971-12-31","1972-01-31","1972-02-29","1972-03-31","1972-04-30","1972-05-31","1972-06-30","1972-07-31","1972-08-31","1972-09-30","1972-10-31","1972-11-30","1972-12-31","1973-01-31","1973-02-28","1973-03-31","1973-04-30","1973-05-31","1973-06-30","1973-07-31","1973-08-31","1973-09-30","1973-10-31","1973-11-30","1973-12-31","1974-01-31","1974-02-28","1974-03-31","1974-04-30","1974-05-31","1974-06-30","1974-07-31","1974-08-31","1974-09-30","1974-10-31","1974-11-30","1974-12-31","1975-01-31","1975-02-28","1975-03-31","1975-04-30","1975-05-31","1975-06-30","1975-07-31","1975-08-31","1975-09-30","1975-10-31","1975-11-30","1975-12-31","1976-01-31","1976-02-29","1976-03-31","1976-04-30","1976-05-31","1976-06-30","1976-07-31","1976-08-31","1976-09-30","1976-10-31","1976-11-30","1976-12-31","1977-01-31","1977-02-28","1977-03-31","1977-04-30","1977-05-31","1977-06-30","1977-07-31","1977-08-31","1977-09-30","1977-10-31","1977-11-30","1977-12-31","1978-01-31","1978-02-28","1978-03-31","1978-04-30","1978-05-31","1978-06-30","1978-07-31","1978-08-31","1978-09-30","1978-10-31","1978-11-30","1978-12-31","1979-01-31","1979-02-28","1979-03-31","1979-04-30","1979-05-31","1979-06-30","1979-07-31","1979-08-31","1979-09-30","1979-10-31","1979-11-30","1979-12-31","1980-01-31","1980-02-29","1980-03-31","1980-04-30","1980-05-31","1980-06-30","1980-07-31","1980-08-31","1980-09-30","1980-10-31","1980-11-30","1980-12-31","1981-01-31","1981-02-28","1981-03-31","1981-04-30","1981-05-31","1981-06-30","1981-07-31","1981-08-31","1981-09-30","1981-10-31","1981-11-30","1981-12-31","1982-01-31","1982-02-28","1982-03-31","1982-04-30","1982-05-31","1982-06-30","1982-07-31","1982-08-31","1982-09-30","1982-10-31","1982-11-30","1982-12-31","1983-01-31","1983-02-28","1983-03-31","1983-04-30","1983-05-31","1983-06-30","1983-07-31","1983-08-31","1983-09-30","1983-10-31","1983-11-30","1983-12-31","1984-01-31","1984-02-29","1984-03-31","1984-04-30","1984-05-31","1984-06-30","1984-07-31","1984-08-31","1984-09-30","1984-10-31","1984-11-30","1984-12-31","1985-01-31","1985-02-28","1985-03-31","1985-04-30","1985-05-31","1985-06-30","1985-07-31","1985-08-31","1985-09-30","1985-10-31","1985-11-30","1985-12-31","1986-01-31","1986-02-28","1986-03-31","1986-04-30","1986-05-31","1986-06-30","1986-07-31","1986-08-31","1986-09-30","1986-10-31","1986-11-30","1986-12-31","1987-01-31","1987-02-28","1987-03-31","1987-04-30","1987-05-31","1987-06-30","1987-07-31","1987-08-31","1987-09-30","1987-10-31","1987-11-30","1987-12-31","1988-01-31","1988-02-29","1988-03-31","1988-04-30","1988-05-31","1988-06-30","1988-07-31","1988-08-31","1988-09-30","1988-10-31","1988-11-30","1988-12-31","1989-01-31","1989-02-28","1989-03-31","1989-04-30","1989-05-31","1989-06-30","1989-07-31","1989-08-31","1989-09-30","1989-10-31","1989-11-30","1989-12-31","1990-01-31","1990-02-28","1990-03-31","1990-04-30","1990-05-31","1990-06-30","1990-07-31","1990-08-31","1990-09-30","1990-10-31","1990-11-30","1990-12-31","1991-01-31","1991-02-28","1991-03-31","1991-04-30","1991-05-31","1991-06-30","1991-07-31","1991-08-31","1991-09-30","1991-10-31","1991-11-30","1991-12-31","1992-01-31","1992-02-29","1992-03-31","1992-04-30","1992-05-31","1992-06-30","1992-07-31","1992-08-31","1992-09-30","1992-10-31","1992-11-30","1992-12-31","1993-01-31","1993-02-28","1993-03-31","1993-04-30","1993-05-31","1993-06-30","1993-07-31","1993-08-31","1993-09-30","1993-10-31","1993-11-30","1993-12-31","1994-01-31","1994-02-28","1994-03-31","1994-04-30","1994-05-31","1994-06-30","1994-07-31","1994-08-31","1994-09-30","1994-10-31","1994-11-30","1994-12-31","1995-01-31","1995-02-28","1995-03-31","1995-04-30","1995-05-31","1995-06-30","1995-07-31","1995-08-31"],"y":[6.43,6.15,6.72,14.2,36,45.2,37.9,37.5,20,11,8.49,8,7.08,5.77,5.85,15.8,30.7,66,32.4,21.4,11.6,7.61,6.89,4.52,3.79,3.7,3.9,4.5,11.9,23.4,23.2,19.5,12.9,8.66,6.59,5.77,5.17,4.99,4.87,14.9,35.4,74.2,69.3,23.7,17,16.7,12.3,7.67,6.25,6.17,8.85,20.3,27.3,26.1,28.2,17.7,15.5,17.8,17.5,11.6,11.1,10.5,10.8,21.5,19.5,36.8,31.8,24.3,16.6,12.3,10.2,8.89,7.83,7.67,7.71,13,27.5,18.5,23.1,17.5,13.3,11.1,9.2,9.57,8.93,7.68,8.6,17.8,30.2,44.7,29.4,20.9,16.8,13.2,8.95,8.73,8.7,8.88,8.65,14.5,20.9,27.7,27.3,20.4,12.3,10.7,9.9,10.2,10.7,10.1,9.29,10.9,20.4,33.7,29.7,22.8,15.1,11.2,9.7,8.22,7.83,7.44,7.47,11.2,33.5,29,23.5,17.2,12.1,9.41,9.61,8.47,8.67,8.4,9.18,11.5,38.6,37.1,36.7,22.9,17.3,12.8,10.4,8.03,8.56,8.41,8.41,30.4,31.5,23.4,23.9,19.6,14.8,10.6,8.54,7.45,7.01,6.81,7.28,11.6,22.8,29.8,33.9,24.1,15.7,11.2,8.3,7.31,6.17,6.3,6.85,8.73,25,37.4,22.3,20,12.1,8.72,7.32,6.8,5.3,4.61,5.05,10.5,20.7,31.6,25.5,17.2,13.3,10.5,8.78,7,5.21,4.68,4.51,10.8,19.9,26.1,28,20.4,13,9.89,7.62,7.25,6.87,6.41,6.33,9.05,29.3,39.5,48.3,28.6,17.5,10.6,9.11,7.89,7.66,7.32,6.86,12.4,24.7,40.1,33.4,24.4,18,12.2,9.23,7.7,6.6,6.22,6.42,7.57,28.4,24.8,25.2,18.2,14.7,13.3,10.2,9.27,8.18,7.95,7.95,8.69,34.1,51.7,31.5,28.8,21,9.36,7.14,6.05,5.19,4.78,4.76,9.72,29.4,48,40.8,26,16.9,12.8,9.95,8.68,7.57,6.71,6.54,15,26.4,31,32.5,22.8,14.9,12.3,9.54,8.13,6.77,5.9,5.32,18.3,27.2,53,49.7,26.9,18.2,12,9.59,8.13,6.34,5.79,5.86,6.63,44.5,44.1,38.2,25.5,15.5,9.37,7.2,6.16,5.26,5.06,5.14,7.79,27,30.6,33.7,22.9],"text":["date: 1970-01-31<br />.value:  6.43","date: 1970-02-28<br />.value:  6.15","date: 1970-03-31<br />.value:  6.72","date: 1970-04-30<br />.value: 14.20","date: 1970-05-31<br />.value: 36.00","date: 1970-06-30<br />.value: 45.20","date: 1970-07-31<br />.value: 37.90","date: 1970-08-31<br />.value: 37.50","date: 1970-09-30<br />.value: 20.00","date: 1970-10-31<br />.value: 11.00","date: 1970-11-30<br />.value:  8.49","date: 1970-12-31<br />.value:  8.00","date: 1971-01-31<br />.value:  7.08","date: 1971-02-28<br />.value:  5.77","date: 1971-03-31<br />.value:  5.85","date: 1971-04-30<br />.value: 15.80","date: 1971-05-31<br />.value: 30.70","date: 1971-06-30<br />.value: 66.00","date: 1971-07-31<br />.value: 32.40","date: 1971-08-31<br />.value: 21.40","date: 1971-09-30<br />.value: 11.60","date: 1971-10-31<br />.value:  7.61","date: 1971-11-30<br />.value:  6.89","date: 1971-12-31<br />.value:  4.52","date: 1972-01-31<br />.value:  3.79","date: 1972-02-29<br />.value:  3.70","date: 1972-03-31<br />.value:  3.90","date: 1972-04-30<br />.value:  4.50","date: 1972-05-31<br />.value: 11.90","date: 1972-06-30<br />.value: 23.40","date: 1972-07-31<br />.value: 23.20","date: 1972-08-31<br />.value: 19.50","date: 1972-09-30<br />.value: 12.90","date: 1972-10-31<br />.value:  8.66","date: 1972-11-30<br />.value:  6.59","date: 1972-12-31<br />.value:  5.77","date: 1973-01-31<br />.value:  5.17","date: 1973-02-28<br />.value:  4.99","date: 1973-03-31<br />.value:  4.87","date: 1973-04-30<br />.value: 14.90","date: 1973-05-31<br />.value: 35.40","date: 1973-06-30<br />.value: 74.20","date: 1973-07-31<br />.value: 69.30","date: 1973-08-31<br />.value: 23.70","date: 1973-09-30<br />.value: 17.00","date: 1973-10-31<br />.value: 16.70","date: 1973-11-30<br />.value: 12.30","date: 1973-12-31<br />.value:  7.67","date: 1974-01-31<br />.value:  6.25","date: 1974-02-28<br />.value:  6.17","date: 1974-03-31<br />.value:  8.85","date: 1974-04-30<br />.value: 20.30","date: 1974-05-31<br />.value: 27.30","date: 1974-06-30<br />.value: 26.10","date: 1974-07-31<br />.value: 28.20","date: 1974-08-31<br />.value: 17.70","date: 1974-09-30<br />.value: 15.50","date: 1974-10-31<br />.value: 17.80","date: 1974-11-30<br />.value: 17.50","date: 1974-12-31<br />.value: 11.60","date: 1975-01-31<br />.value: 11.10","date: 1975-02-28<br />.value: 10.50","date: 1975-03-31<br />.value: 10.80","date: 1975-04-30<br />.value: 21.50","date: 1975-05-31<br />.value: 19.50","date: 1975-06-30<br />.value: 36.80","date: 1975-07-31<br />.value: 31.80","date: 1975-08-31<br />.value: 24.30","date: 1975-09-30<br />.value: 16.60","date: 1975-10-31<br />.value: 12.30","date: 1975-11-30<br />.value: 10.20","date: 1975-12-31<br />.value:  8.89","date: 1976-01-31<br />.value:  7.83","date: 1976-02-29<br />.value:  7.67","date: 1976-03-31<br />.value:  7.71","date: 1976-04-30<br />.value: 13.00","date: 1976-05-31<br />.value: 27.50","date: 1976-06-30<br />.value: 18.50","date: 1976-07-31<br />.value: 23.10","date: 1976-08-31<br />.value: 17.50","date: 1976-09-30<br />.value: 13.30","date: 1976-10-31<br />.value: 11.10","date: 1976-11-30<br />.value:  9.20","date: 1976-12-31<br />.value:  9.57","date: 1977-01-31<br />.value:  8.93","date: 1977-02-28<br />.value:  7.68","date: 1977-03-31<br />.value:  8.60","date: 1977-04-30<br />.value: 17.80","date: 1977-05-31<br />.value: 30.20","date: 1977-06-30<br />.value: 44.70","date: 1977-07-31<br />.value: 29.40","date: 1977-08-31<br />.value: 20.90","date: 1977-09-30<br />.value: 16.80","date: 1977-10-31<br />.value: 13.20","date: 1977-11-30<br />.value:  8.95","date: 1977-12-31<br />.value:  8.73","date: 1978-01-31<br />.value:  8.70","date: 1978-02-28<br />.value:  8.88","date: 1978-03-31<br />.value:  8.65","date: 1978-04-30<br />.value: 14.50","date: 1978-05-31<br />.value: 20.90","date: 1978-06-30<br />.value: 27.70","date: 1978-07-31<br />.value: 27.30","date: 1978-08-31<br />.value: 20.40","date: 1978-09-30<br />.value: 12.30","date: 1978-10-31<br />.value: 10.70","date: 1978-11-30<br />.value:  9.90","date: 1978-12-31<br />.value: 10.20","date: 1979-01-31<br />.value: 10.70","date: 1979-02-28<br />.value: 10.10","date: 1979-03-31<br />.value:  9.29","date: 1979-04-30<br />.value: 10.90","date: 1979-05-31<br />.value: 20.40","date: 1979-06-30<br />.value: 33.70","date: 1979-07-31<br />.value: 29.70","date: 1979-08-31<br />.value: 22.80","date: 1979-09-30<br />.value: 15.10","date: 1979-10-31<br />.value: 11.20","date: 1979-11-30<br />.value:  9.70","date: 1979-12-31<br />.value:  8.22","date: 1980-01-31<br />.value:  7.83","date: 1980-02-29<br />.value:  7.44","date: 1980-03-31<br />.value:  7.47","date: 1980-04-30<br />.value: 11.20","date: 1980-05-31<br />.value: 33.50","date: 1980-06-30<br />.value: 29.00","date: 1980-07-31<br />.value: 23.50","date: 1980-08-31<br />.value: 17.20","date: 1980-09-30<br />.value: 12.10","date: 1980-10-31<br />.value:  9.41","date: 1980-11-30<br />.value:  9.61","date: 1980-12-31<br />.value:  8.47","date: 1981-01-31<br />.value:  8.67","date: 1981-02-28<br />.value:  8.40","date: 1981-03-31<br />.value:  9.18","date: 1981-04-30<br />.value: 11.50","date: 1981-05-31<br />.value: 38.60","date: 1981-06-30<br />.value: 37.10","date: 1981-07-31<br />.value: 36.70","date: 1981-08-31<br />.value: 22.90","date: 1981-09-30<br />.value: 17.30","date: 1981-10-31<br />.value: 12.80","date: 1981-11-30<br />.value: 10.40","date: 1981-12-31<br />.value:  8.03","date: 1982-01-31<br />.value:  8.56","date: 1982-02-28<br />.value:  8.41","date: 1982-03-31<br />.value:  8.41","date: 1982-04-30<br />.value: 30.40","date: 1982-05-31<br />.value: 31.50","date: 1982-06-30<br />.value: 23.40","date: 1982-07-31<br />.value: 23.90","date: 1982-08-31<br />.value: 19.60","date: 1982-09-30<br />.value: 14.80","date: 1982-10-31<br />.value: 10.60","date: 1982-11-30<br />.value:  8.54","date: 1982-12-31<br />.value:  7.45","date: 1983-01-31<br />.value:  7.01","date: 1983-02-28<br />.value:  6.81","date: 1983-03-31<br />.value:  7.28","date: 1983-04-30<br />.value: 11.60","date: 1983-05-31<br />.value: 22.80","date: 1983-06-30<br />.value: 29.80","date: 1983-07-31<br />.value: 33.90","date: 1983-08-31<br />.value: 24.10","date: 1983-09-30<br />.value: 15.70","date: 1983-10-31<br />.value: 11.20","date: 1983-11-30<br />.value:  8.30","date: 1983-12-31<br />.value:  7.31","date: 1984-01-31<br />.value:  6.17","date: 1984-02-29<br />.value:  6.30","date: 1984-03-31<br />.value:  6.85","date: 1984-04-30<br />.value:  8.73","date: 1984-05-31<br />.value: 25.00","date: 1984-06-30<br />.value: 37.40","date: 1984-07-31<br />.value: 22.30","date: 1984-08-31<br />.value: 20.00","date: 1984-09-30<br />.value: 12.10","date: 1984-10-31<br />.value:  8.72","date: 1984-11-30<br />.value:  7.32","date: 1984-12-31<br />.value:  6.80","date: 1985-01-31<br />.value:  5.30","date: 1985-02-28<br />.value:  4.61","date: 1985-03-31<br />.value:  5.05","date: 1985-04-30<br />.value: 10.50","date: 1985-05-31<br />.value: 20.70","date: 1985-06-30<br />.value: 31.60","date: 1985-07-31<br />.value: 25.50","date: 1985-08-31<br />.value: 17.20","date: 1985-09-30<br />.value: 13.30","date: 1985-10-31<br />.value: 10.50","date: 1985-11-30<br />.value:  8.78","date: 1985-12-31<br />.value:  7.00","date: 1986-01-31<br />.value:  5.21","date: 1986-02-28<br />.value:  4.68","date: 1986-03-31<br />.value:  4.51","date: 1986-04-30<br />.value: 10.80","date: 1986-05-31<br />.value: 19.90","date: 1986-06-30<br />.value: 26.10","date: 1986-07-31<br />.value: 28.00","date: 1986-08-31<br />.value: 20.40","date: 1986-09-30<br />.value: 13.00","date: 1986-10-31<br />.value:  9.89","date: 1986-11-30<br />.value:  7.62","date: 1986-12-31<br />.value:  7.25","date: 1987-01-31<br />.value:  6.87","date: 1987-02-28<br />.value:  6.41","date: 1987-03-31<br />.value:  6.33","date: 1987-04-30<br />.value:  9.05","date: 1987-05-31<br />.value: 29.30","date: 1987-06-30<br />.value: 39.50","date: 1987-07-31<br />.value: 48.30","date: 1987-08-31<br />.value: 28.60","date: 1987-09-30<br />.value: 17.50","date: 1987-10-31<br />.value: 10.60","date: 1987-11-30<br />.value:  9.11","date: 1987-12-31<br />.value:  7.89","date: 1988-01-31<br />.value:  7.66","date: 1988-02-29<br />.value:  7.32","date: 1988-03-31<br />.value:  6.86","date: 1988-04-30<br />.value: 12.40","date: 1988-05-31<br />.value: 24.70","date: 1988-06-30<br />.value: 40.10","date: 1988-07-31<br />.value: 33.40","date: 1988-08-31<br />.value: 24.40","date: 1988-09-30<br />.value: 18.00","date: 1988-10-31<br />.value: 12.20","date: 1988-11-30<br />.value:  9.23","date: 1988-12-31<br />.value:  7.70","date: 1989-01-31<br />.value:  6.60","date: 1989-02-28<br />.value:  6.22","date: 1989-03-31<br />.value:  6.42","date: 1989-04-30<br />.value:  7.57","date: 1989-05-31<br />.value: 28.40","date: 1989-06-30<br />.value: 24.80","date: 1989-07-31<br />.value: 25.20","date: 1989-08-31<br />.value: 18.20","date: 1989-09-30<br />.value: 14.70","date: 1989-10-31<br />.value: 13.30","date: 1989-11-30<br />.value: 10.20","date: 1989-12-31<br />.value:  9.27","date: 1990-01-31<br />.value:  8.18","date: 1990-02-28<br />.value:  7.95","date: 1990-03-31<br />.value:  7.95","date: 1990-04-30<br />.value:  8.69","date: 1990-05-31<br />.value: 34.10","date: 1990-06-30<br />.value: 51.70","date: 1990-07-31<br />.value: 31.50","date: 1990-08-31<br />.value: 28.80","date: 1990-09-30<br />.value: 21.00","date: 1990-10-31<br />.value:  9.36","date: 1990-11-30<br />.value:  7.14","date: 1990-12-31<br />.value:  6.05","date: 1991-01-31<br />.value:  5.19","date: 1991-02-28<br />.value:  4.78","date: 1991-03-31<br />.value:  4.76","date: 1991-04-30<br />.value:  9.72","date: 1991-05-31<br />.value: 29.40","date: 1991-06-30<br />.value: 48.00","date: 1991-07-31<br />.value: 40.80","date: 1991-08-31<br />.value: 26.00","date: 1991-09-30<br />.value: 16.90","date: 1991-10-31<br />.value: 12.80","date: 1991-11-30<br />.value:  9.95","date: 1991-12-31<br />.value:  8.68","date: 1992-01-31<br />.value:  7.57","date: 1992-02-29<br />.value:  6.71","date: 1992-03-31<br />.value:  6.54","date: 1992-04-30<br />.value: 15.00","date: 1992-05-31<br />.value: 26.40","date: 1992-06-30<br />.value: 31.00","date: 1992-07-31<br />.value: 32.50","date: 1992-08-31<br />.value: 22.80","date: 1992-09-30<br />.value: 14.90","date: 1992-10-31<br />.value: 12.30","date: 1992-11-30<br />.value:  9.54","date: 1992-12-31<br />.value:  8.13","date: 1993-01-31<br />.value:  6.77","date: 1993-02-28<br />.value:  5.90","date: 1993-03-31<br />.value:  5.32","date: 1993-04-30<br />.value: 18.30","date: 1993-05-31<br />.value: 27.20","date: 1993-06-30<br />.value: 53.00","date: 1993-07-31<br />.value: 49.70","date: 1993-08-31<br />.value: 26.90","date: 1993-09-30<br />.value: 18.20","date: 1993-10-31<br />.value: 12.00","date: 1993-11-30<br />.value:  9.59","date: 1993-12-31<br />.value:  8.13","date: 1994-01-31<br />.value:  6.34","date: 1994-02-28<br />.value:  5.79","date: 1994-03-31<br />.value:  5.86","date: 1994-04-30<br />.value:  6.63","date: 1994-05-31<br />.value: 44.50","date: 1994-06-30<br />.value: 44.10","date: 1994-07-31<br />.value: 38.20","date: 1994-08-31<br />.value: 25.50","date: 1994-09-30<br />.value: 15.50","date: 1994-10-31<br />.value:  9.37","date: 1994-11-30<br />.value:  7.20","date: 1994-12-31<br />.value:  6.16","date: 1995-01-31<br />.value:  5.26","date: 1995-02-28<br />.value:  5.06","date: 1995-03-31<br />.value:  5.14","date: 1995-04-30<br />.value:  7.79","date: 1995-05-31<br />.value: 27.00","date: 1995-06-30<br />.value: 30.60","date: 1995-07-31<br />.value: 33.70","date: 1995-08-31<br />.value: 22.90"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8246364188244,"r":7.30593607305936,"b":41.7789743183678,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","autorange":true,"range":["1968-10-20","1996-12-10"],"tickmode":"auto","ticktext":["1970","1980","1990"],"tickvals":[-5.6843418860808e-14,3652,7305],"categoryorder":"array","categoryarray":["1970","1980","1990"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f","rangeslider":{"type":"date"}},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[0.175,77.725],"tickmode":"auto","ticktext":["20","40","60"],"tickvals":[20,40,60],"categoryorder":"array","categoryarray":["20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":{"text":"Mean monthly Q [m3/s]","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"631c49387247":{"x":{},"y":{},"type":"scatter"}},"cur_data":"631c49387247","visdat":{"631c49387247":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p class="caption">
Interactive time series plot of monthly discharge measurements.
</p>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">discharge</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://business-science.github.io/timetk/reference/plot_seasonal_diagnostics.html" class="external-link">plot_seasonal_diagnostics</a></span><span class="op">(</span>.date_var      <span class="op">=</span> <span class="va">date</span>,</span>
<span>                            .value         <span class="op">=</span> <span class="va">data</span>,</span>
<span>                            .title         <span class="op">=</span> <span class="st">""</span>,</span>
<span>                            .feature_set   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"month.lbl"</span><span class="op">)</span>,</span>
<span>                            .interactive   <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            .x_lab         <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>                            .y_lab         <span class="op">=</span> <span class="st">"Mean monthly Q [m3/s]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"January"</span>, <span class="st">"February"</span>, <span class="st">"March"</span>, <span class="st">"April"</span>, <span class="st">"May"</span>, </span>
<span>                            <span class="st">"June"</span>, <span class="st">"July"</span>, <span class="st">"August"</span>, <span class="st">"September"</span>, <span class="st">"October"</span>, </span>
<span>                            <span class="st">"November"</span>, <span class="st">"December"</span>, <span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span><span class="op">)</span>,</span>
<span>                   labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"J"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"A"</span>, <span class="st">"M"</span>, <span class="st">"J"</span>, <span class="st">"J"</span>, <span class="st">"A"</span>, <span class="st">"S"</span>, <span class="st">"O"</span>, </span>
<span>                              <span class="st">"N"</span>, <span class="st">"D"</span>,<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="01-discharge-processing-examples_files/figure-html/unnamed-chunk-4-1.png" alt="Monthly box plot of the time series data showing the mean (bold horizontal line), the boundaries of the 25% and the 75% quantiles (boundaries of the box). The lines extend to roughly 95% confidence interval and the points indicate outliers." width="700"><p class="caption">
Monthly box plot of the time series data showing the mean (bold
horizontal line), the boundaries of the 25% and the 75% quantiles
(boundaries of the box). The lines extend to roughly 95% confidence
interval and the points indicate outliers.
</p>
</div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">discharge</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://business-science.github.io/timetk/reference/summarise_by_time.html" class="external-link">summarise_by_time</a></span><span class="op">(</span>.date_var <span class="op">=</span> <span class="va">date</span>, </span>
<span>                    .by       <span class="op">=</span> <span class="st">"month"</span>,</span>
<span>                    value     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://business-science.github.io/timetk/reference/tk_ts.html" class="external-link">tk_ts</a></span><span class="op">(</span>frequency <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://pkg.robjhyndman.com/forecast/reference/ggmonthplot.html" class="external-link">ggsubseriesplot</a></span><span class="op">(</span>year.labels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, color <span class="op">=</span> <span class="st">"red"</span>, formula <span class="op">=</span> <span class="va">y</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span> <span class="op">+</span></span>
<span>              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Month'</span><span class="op">)</span> <span class="op">+</span></span>
<span>              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Mean monthly Q [m3/s]'</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">#&gt;   method            from</span></span>
<span><span class="co">#&gt;   as.zoo.data.frame zoo</span></span>
<span><span class="co">#&gt; Warning: Non-numeric columns being dropped: date</span></span></code></pre></div>
<div class="figure">
<img src="01-discharge-processing-examples_files/figure-html/unnamed-chunk-5-1.png" alt="Visualization of trends in the monthly data. The blue line indicates the monthly mean and the red line shows the result of a linar model of the monthly data, including a grey confidence interval of the fit." width="700"><p class="caption">
Visualization of trends in the monthly data. The blue line indicates the
monthly mean and the red line shows the result of a linar model of the
monthly data, including a grey confidence interval of the fit.
</p>
</div>
<p>For many applications, discharge data is processed within the
hydrolgoical year. In Central Asia, the hydrological year starts on
October 1 of the previous year and ends on September 30 of the current
year. Hydrologists also differentiate between cold and warm season
discharge. The following function calculates mean annual discharges
(ann) as well as mean cold and warm season discharge (cs and ws
respectively).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">discharge_processed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert2HYY.html">convert2HYY</a></span><span class="op">(</span><span class="va">discharge</span>, <span class="fl">16076</span>, <span class="st">"Q"</span><span class="op">)</span></span>
<span><span class="va">discharge_processed</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="op">-</span><span class="va">hyYear</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://business-science.github.io/timetk/reference/plot_time_series.html" class="external-link">plot_time_series</a></span><span class="op">(</span><span class="va">hyYear</span>,<span class="va">value</span>,<span class="va">name</span>,</span>
<span>                   .title <span class="op">=</span> <span class="st">''</span>,</span>
<span>                   .x_lab <span class="op">=</span> <span class="st">'Year'</span>,</span>
<span>                   .y_lab <span class="op">=</span> <span class="st">'Mean monthly Q [m3/s]'</span>,</span>
<span>                   .interactive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   .smooth <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<div id="htmlwidget-3236d4a2470e28e7152b" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3236d4a2470e28e7152b">{"x":{"data":[{"x":["1971-01-01","1972-01-01","1973-01-01","1974-01-01","1975-01-01","1976-01-01","1977-01-01","1978-01-01","1979-01-01","1980-01-01","1981-01-01","1982-01-01","1983-01-01","1984-01-01","1985-01-01","1986-01-01","1987-01-01","1988-01-01","1989-01-01","1990-01-01","1991-01-01","1992-01-01","1993-01-01","1994-01-01"],"y":[18.7057260273973,10.5055191256831,22.6284657534247,16.1411780821918,19.1778082191781,13.9949726775956,17.9444931506849,15.0586849315068,16.159698630137,14.8969398907104,18.2255616438356,16.7185753424658,15.5266301369863,14.323306010929,13.0905479452055,13.2946849315068,18.1433424657534,16.889043715847,13.9985753424658,19.4421917808219,17.4109589041096,16.2734426229508,20.1707397260274,18.6113698630137],"text":["hyYear: 1971-01-01<br />.value: 18.705726<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1972-01-01<br />.value: 10.505519<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1973-01-01<br />.value: 22.628466<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1974-01-01<br />.value: 16.141178<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1975-01-01<br />.value: 19.177808<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1976-01-01<br />.value: 13.994973<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1977-01-01<br />.value: 17.944493<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1978-01-01<br />.value: 15.058685<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1979-01-01<br />.value: 16.159699<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1980-01-01<br />.value: 14.896940<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1981-01-01<br />.value: 18.225562<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1982-01-01<br />.value: 16.718575<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1983-01-01<br />.value: 15.526630<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1984-01-01<br />.value: 14.323306<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1985-01-01<br />.value: 13.090548<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1986-01-01<br />.value: 13.294685<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1987-01-01<br />.value: 18.143342<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1988-01-01<br />.value: 16.889044<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1989-01-01<br />.value: 13.998575<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1990-01-01<br />.value: 19.442192<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1991-01-01<br />.value: 17.410959<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1992-01-01<br />.value: 16.273443<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1993-01-01<br />.value: 20.170740<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann","hyYear: 1994-01-01<br />.value: 18.611370<br />.color_mod: Q_mean_ann<br />.color_mod: Q_mean_ann"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","name":"Q_mean_ann","legendgroup":"Q_mean_ann","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["1971-01-01","1972-01-01","1973-01-01","1974-01-01","1975-01-01","1976-01-01","1977-01-01","1978-01-01","1979-01-01","1980-01-01","1981-01-01","1982-01-01","1983-01-01","1984-01-01","1985-01-01","1986-01-01","1987-01-01","1988-01-01","1989-01-01","1990-01-01","1991-01-01","1992-01-01","1993-01-01","1994-01-01"],"y":[7.72576923076923,5.07333333333333,6.02192307692308,9.69961538461538,13.2379120879121,9.1096174863388,9.20461538461538,9.53197802197802,10.1504945054945,8.65071038251366,8.96225274725275,9.44659340659341,7.96384615384615,7.70016393442623,6.32225274725275,6.80362637362637,7.41,8.24530054644809,8.0856043956044,9.49615384615385,6.23186813186813,8.72338797814208,8.01934065934066,7.9782967032967],"text":["hyYear: 1971-01-01<br />.value:  7.725769<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1972-01-01<br />.value:  5.073333<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1973-01-01<br />.value:  6.021923<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1974-01-01<br />.value:  9.699615<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1975-01-01<br />.value: 13.237912<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1976-01-01<br />.value:  9.109617<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1977-01-01<br />.value:  9.204615<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1978-01-01<br />.value:  9.531978<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1979-01-01<br />.value: 10.150495<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1980-01-01<br />.value:  8.650710<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1981-01-01<br />.value:  8.962253<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1982-01-01<br />.value:  9.446593<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1983-01-01<br />.value:  7.963846<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1984-01-01<br />.value:  7.700164<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1985-01-01<br />.value:  6.322253<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1986-01-01<br />.value:  6.803626<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1987-01-01<br />.value:  7.410000<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1988-01-01<br />.value:  8.245301<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1989-01-01<br />.value:  8.085604<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1990-01-01<br />.value:  9.496154<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1991-01-01<br />.value:  6.231868<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1992-01-01<br />.value:  8.723388<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1993-01-01<br />.value:  8.019341<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs","hyYear: 1994-01-01<br />.value:  7.978297<br />.color_mod: Q_mean_cs<br />.color_mod: Q_mean_cs"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(227,26,28,1)","dash":"solid"},"hoveron":"points","name":"Q_mean_cs","legendgroup":"Q_mean_cs","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["1971-01-01","1972-01-01","1973-01-01","1974-01-01","1975-01-01","1976-01-01","1977-01-01","1978-01-01","1979-01-01","1980-01-01","1981-01-01","1982-01-01","1983-01-01","1984-01-01","1985-01-01","1986-01-01","1987-01-01","1988-01-01","1989-01-01","1990-01-01","1991-01-01","1992-01-01","1993-01-01","1994-01-01"],"y":[29.6256830601093,15.9377049180328,39.144262295082,22.5475409836066,25.0852459016393,18.8803278688525,26.6366120218579,20.5551912568306,22.1360655737705,21.1431693989071,27.4382513661202,23.9508196721311,23.048087431694,20.9464480874317,19.8218579234973,19.7502732240437,28.8180327868852,25.5327868852459,19.8792349726776,29.3338797814208,28.5289617486339,23.8234972677596,32.255737704918,29.1863387978142],"text":["hyYear: 1971-01-01<br />.value: 29.625683<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1972-01-01<br />.value: 15.937705<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1973-01-01<br />.value: 39.144262<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1974-01-01<br />.value: 22.547541<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1975-01-01<br />.value: 25.085246<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1976-01-01<br />.value: 18.880328<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1977-01-01<br />.value: 26.636612<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1978-01-01<br />.value: 20.555191<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1979-01-01<br />.value: 22.136066<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1980-01-01<br />.value: 21.143169<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1981-01-01<br />.value: 27.438251<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1982-01-01<br />.value: 23.950820<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1983-01-01<br />.value: 23.048087<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1984-01-01<br />.value: 20.946448<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1985-01-01<br />.value: 19.821858<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1986-01-01<br />.value: 19.750273<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1987-01-01<br />.value: 28.818033<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1988-01-01<br />.value: 25.532787<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1989-01-01<br />.value: 19.879235<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1990-01-01<br />.value: 29.333880<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1991-01-01<br />.value: 28.528962<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1992-01-01<br />.value: 23.823497<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1993-01-01<br />.value: 32.255738<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws","hyYear: 1994-01-01<br />.value: 29.186339<br />.color_mod: Q_mean_ws<br />.color_mod: Q_mean_ws"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(24,188,156,1)","dash":"solid"},"hoveron":"points","name":"Q_mean_ws","legendgroup":"Q_mean_ws","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":27.8246364188244,"r":7.30593607305936,"b":41.7789743183678,"l":37.2602739726027},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","autorange":true,"range":["1969-11-06","1995-02-25"],"tickmode":"auto","ticktext":["1970","1980","1990"],"tickvals":[0,3652,7305],"categoryorder":"array","categoryarray":["1970","1980","1990"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[3.3697868852459,40.8478087431694],"tickmode":"auto","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":{"text":"Mean monthly Q [m3/s]","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"title":{"text":"Legend","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"631c219c5bec":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"631c219c5bec","visdat":{"631c219c5bec":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p class="caption">
Mean annual (ann), cold (cs) and warm season (ws) discharge.
</p>
</div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotNormDevHYY.html">plotNormDevHYY</a></span><span class="op">(</span><span class="va">discharge_processed</span>, <span class="st">"Q"</span>, <span class="st">"Discharge"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide = "none"` instead.</span></span>
<span><span class="co">#&gt; It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide = "none"` instead.</span></span>
<span><span class="co">#&gt; It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide = "none"` instead.</span></span></code></pre></div>
<p><img src="01-discharge-processing-examples_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Tobias Siegfried, Beatrice Marti.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
