---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# riversCentralAsia

<!-- badges: start -->
<!-- badges: end -->

`riversCentralAsia` is an R Package that facilitates hydrological modelling. The package includes helper functions to 
- load, manage and analyze hydro-meteorological data from Central Asia,
- process and analyze as well as downscale ERA5 reanalysis data for arbitrary basins in the region (shapefile required),
- process and analyze high-resolution past, current and future monthly CHELSA climatologies,
- prepare export files for hydrological-hydraulic modeling using the free [RS MINERVE software](https://crealp.ch/rs-minerve/), and 
- analyze climate impact scenarios and produce post-simulation output like flow duration curves.

Currently, a relatively complete dataset of the Chirchik River Basin with decadal and monthly data on discharge, precipitation and temperature is included. 

[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.4667422.svg)](https://doi.org/10.5281/zenodo.4667422)

## Documentation
The package was developed within the frame of a master level course on applied hydrological modelling in Central Asia and is extensively used in the open-source  book [Modeling of Hydrological Systems in Semi-Arid Central Asia](https://hydrosolutions.github.io/caham_book/). 

The [package documentation](https://hydrosolutions.github.io/riversCentralAsia/index.html) includes further background and examples.   

### Direct links to articles and use cases
[Introduction on glaciers in water resources modelling and available data](https://hydrosolutions.github.io/riversCentralAsia/articles/glaciers-01-intro.html)  
[Temperature index models for estimating glacier melt](https://hydrosolutions.github.io/riversCentralAsia/articles/glaciers-02-DDMWB.html)  
[How to include glacier melt in RS Minerve](https://hydrosolutions.github.io/riversCentralAsia/articles/glaciers-04-glaciers-RSM.html)

## Related packages
The R package [RSMinverveR](https://github.com/hydrosolutions/RSMinerveR) allows the running of the hydrologic-hydraulic modelling software [RS Minerve](https://crealp.ch/rs-minerve/) directly from R without using the RS Minerve user interface. This functionality is for advanced R and RS Minerve users that wish to further speed up their modelling workflow.     

## Installation

You can install the development version from [GitHub](https://github.com/) with:

```{r}
# install.packages("devtools")
devtools::install_github("hydrosolutions/riversCentralAsia")
library(riversCentralAsia)
```

Note that windows users require an installation of [RTools](https://cran.r-project.org/bin/windows/Rtools/). 


## Community guidelines
Please consult the documentation and the examples provided in the [package documentation](https://hydrosolutions.github.io/riversCentralAsia/index.html) and in the open-source course book [Modeling of Hydrological Systems in Semi-Arid Central Asia](https://hydrosolutions.github.io/caham_book/). 

For problems using the functions of for suggestions, please use the [issue tool](https://github.com/hydrosolutions/riversCentralAsia/issues). 


## Examples

This is a basic example which shows you how to visualize some of the included data.


```{r example, echo=TRUE, eval=FALSE}
library(riversCentralAsia)
library(tidyverse)
library(timetk)

# Loading and visualising discharge data
ChirchikRiverBasin  # load data
ChirchikRiverBasin |> 
  # Filter for the data type, here discharge "Q"
  dplyr::filter(type == "Q") |> 
  drop_na() |> 
  group_by(river) |> 
  plot_time_series(
    date,
    data,
    .interactive = FALSE,
    .facet_ncol = 2,
    .smooth = FALSE, 
    .y_lab = "Discharge [m3/s]", 
    .x_lab = "Year", 
    .title = "Discharge time series in the ChirchikRiverBasin data set"
    )
```

Reading of RS Minerve 

